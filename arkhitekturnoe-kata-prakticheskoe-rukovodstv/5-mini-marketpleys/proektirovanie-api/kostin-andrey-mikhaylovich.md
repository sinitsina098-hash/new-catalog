---
order: 2
title: –ö–æ—Å—Ç–∏–Ω –ê–Ω–¥—Ä–µ–π –ú–∏—Ö–∞–π–ª–æ–≤–∏—á
---

## 1\. üìñ –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –≥—Ä–∞–Ω–∏—Ü –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞

### 1\.1 –î–∏–∞–≥—Ä–∞–º–º–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

<mermaid path="./arkhitekturnoe-kata-3.mermaid" width="780px" height="603px"/>

### 1\.2 –û–ø–∏—Å–∞–Ω–∏–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞

**Review Service** -- –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞–º–∏ –≤–Ω—É—Ç—Ä–∏ –º–∏–Ω–∏-–º–∞—Ä–∫–µ—Ç–ø–ª–µ—Å–∞.

—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–µ—Ä–≤–∏—Å–∞:

-  –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Å—Ç–∞–≤–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã —Å –æ—Ü–µ–Ω–∫–æ–π (–æ—Ç 1 –¥–æ 5) –∏ —Ç–µ–∫—Å—Ç–æ–≤—ã–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–º

-  –æ—Ç–∑—ã–≤—ã –º–æ–≥—É—Ç –æ—Å—Ç–∞–≤–ª—è—Ç—å —Ç–æ–ª—å–∫–æ –ø–æ–∫—É–ø–∞—Ç–µ–ª–∏

-  –æ—Ç–∑—ã–≤ –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å –Ω–∞:

   -  —Ç–æ–≤–∞—Ä (–æ–ø–∏—Å–∞—Ç—å –∫–∞—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ, –æ–ø—ã—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è)

   -  –ø—Ä–æ–¥–∞–≤—Ü–∞ (–æ–ø–∏—Å–∞—Ç—å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ, —Å–∫–æ—Ä–æ—Å—Ç—å –¥–æ—Å—Ç–∞–≤–∫–∏/–æ—Ç–≤–µ—Ç–æ–≤ –≤ —á–∞—Ç–µ)

-  –æ—Ç–∑—ã–≤ –º–æ–∂–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å/—É–¥–∞–ª—è—Ç—å –≤ —Ç–µ—á–µ–Ω–∏–µ 1 –º–µ—Å—è—Ü–∞ –ø–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è

-  –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç —É–¥–∞–ª—è—Ç—å –æ—Ç–∑—ã–≤—ã, –Ω–∞—Ä—É—à–∞—é—â–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –ø–ª–æ—â–∞–¥–∫–∏

-  –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –æ—Ç–∑—ã–≤–∞ –ø–æ —Ç–æ–≤–∞—Ä—É –∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü—É

-  –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á—ë—Ç —Å—Ä–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏ —Ç–æ–≤–∞—Ä–∞ –∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü–∞

## 2\. üß© –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API –º–µ—Ç–æ–¥–∞

<table header="row">
<colgroup><col width="156"/><col width="156"/><col width="310"/><col width="192"/><col width="239"/></colgroup>
<tr>
<td>

–ü–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏

</td>
<td>

–¶–µ–ª—å

</td>
<td>

–ó–∞–¥–∞—á–∏

</td>
<td>

–í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

</td>
<td>

–í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

</td>
</tr>
<tr>
<td>

–ø–æ–∫—É–ø–∞—Ç–µ–ª—å



</td>
<td>

–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ç–∑—ã–≤ –æ —Ç–æ–≤–∞—Ä–µ 

</td>
<td>

-  —Å–æ–∑–¥–∞—Ç—å –æ—Ç–∑—ã–≤

-  —É–∫–∞–∑–∞–Ω–∏–µ –æ—Ü–µ–Ω–∫–∏ –∏ —Ç–µ–∫—Å—Ç–∞ –æ—Ç–∑—ã–≤–∞

-  –ø—Ä–∏–≤—è–∑–∫–∞ –æ—Ç–∑—ã–≤–∞ –∫ —Ç–æ–≤–∞—Ä—É –∏–ª–∏ –ø—Ä–æ–¥–∞–≤—É

</td>
<td>

```json
{ 
	"user_id": "u_uuid",  
	"product_id": "p_uuid",
	"order_id": "o_uuid", 
	"rating": 4, 
	"text": "text" 
}
```



</td>
<td>

statuses

\[201, 400, 401, 404\]

**user_response**

```json
{
	"status_code": 201,
	"message": "–æ—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω",
	"rating": "4",
	"text": "text"
}
```

**system_response** (–æ—Ç–≤–µ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å–∏—Å—Ç–µ–º—ã –∏ —Å–ª—É–∂–∏—Ç –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –±–¥)

```json
{
	"user_id": "a_uuid",
	"product_id": "t_uuid",
	"order_id": "o_uuid",
	"review_id": "r_uuid",
	"status": "active",
	"created_at": "date",
	"modified_at": "date"
}
```

</td>
</tr>
<tr>
<td>

–ø–æ–∫—É–ø–∞—Ç–µ–ª—å

</td>
<td>

–ø—É–±–ª–∏–∫–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–≥–æ  –æ—Ç–∑—ã–≤–∞

</td>
<td>

-  –∏–∑–º–µ–Ω–∏—Ç—å —Ç–µ–∫—Å—Ç –∏/–∏–ª–∏ –æ—Ü–µ–Ω–∫—É (—Å–∞–º —Ñ–∞–∫—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è, –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π)

</td>
<td>

```json
{
	"user_id": "u_uuid",
	"review_id": "r_uuid",
	"rating": 4,
	"text": "new text"
}
```

</td>
<td>

statuses

\[200, 400\]

**user_response**

```json
{
	"status_code": 200,
	"message": "–æ—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ –æ–±–Ω–æ–≤–ª—ë–Ω",
	"rating": 4,
	"text": "new text"
}
```

**system_response**

```json
{
	"user_id": "u_uuid",
	"review_id": "r_uuid",
	"status": "active",
	"modified_at": "date"
}
```

</td>
</tr>
<tr>
<td>

–ø–æ–∫—É–ø–∞—Ç–µ–ª—å

</td>
<td>

—É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞

</td>
<td>

-  —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ (—Å–∞–º –ø—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞, –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è)

</td>
<td>

```json
{
	"user_id": "u_uuid",
	"review_id": "r_uuid"
}
```

</td>
<td>

statuses

\[200, 400\]

**user_response**

```json
{
	"status_code": 200,
	"message": "–æ—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω"
}
```

**system_response**

```json
{
	"user_id": "u_uuid",
	"review_id": "r_uuid"
}
```

</td>
</tr>
<tr>
<td>

–ø–æ–∫—É–ø–∞—Ç–µ–ª–∏ / –ø—Ä–æ–¥–∞–≤—Ü—ã / –º–æ–¥–µ—Ä–∞—Ç–æ—Ä—ã

</td>
<td>

–ø–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ—Ç–∑—ã–≤—ã

</td>
<td>

-  –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –æ—Ç–∑—ã–≤–æ–≤ –ø–æ —Ç–æ–≤–∞—Ä—É –∏–ª–∏ –ø—Ä–æ–¥–∞–≤—Ü—É

</td>
<td>

```json
{
	"type": "product/user",
	"product_id": "p_uuid",
	"page": 1,
	"limit": 20,
	"sorting_field": "field"
}
```

</td>
<td>

statuses

\[200, 400\]

**user_response**

```json
{
	"status_code": 200,
	"reviews": [
					{
						"name": "r_name",
						"rating": 4,
						"text": "text",
						"modified_at": "date"
					},
				],
}
```



**system_response**

```json
{
	"product_id": "p_uuid",
	"page": 1,
	"limit": 20,
	"sorting_field": "field"
}
```



</td>
</tr>
<tr>
<td>

–º–æ–¥–µ—Ä–∞—Ç–æ—Ä

</td>
<td>

—É–¥–∞–ª–∏—Ç—å –æ—Ç–∑—ã–≤, –Ω–∞—Ä—É—à–∞—é—â–∏–π –ø—Ä–∞–≤–∏–ª–∞ –ø–ª–æ—â–∞–¥–∫–∏

</td>
<td>

-  —É–¥–∞–ª–µ–Ω–∏–µ –æ—Ç–∑—ã–≤–∞ (—Å–∞–º –ø—Ä–æ—Ü–µ—Å—Å —É–¥–∞–ª–µ–Ω–∏—è –æ—Ç–∑—ã–≤–∞ –ø–æ—Å–ª–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —É–¥–∞–ª–µ–Ω–∏—è)

</td>
<td>

```json
{
	"user_id": "u_uuid",
	"review_id": "r_uuid"
}
```

</td>
<td>

statuses

\[200, 400\]

**user_response**

```json
{
	"status_code": 200,
	"message": "–æ—Ç–∑—ã–≤ —É—Å–ø–µ—à–Ω–æ —É–¥–∞–ª—ë–Ω"
}
```

**system_response**

```json
{
	"user_id": "u_uuid",
	"review_id": "r_uuid"
}
```



</td>
</tr>
</table>

## 3\. ü§ù Swagger

<openapi src="./_index.yaml" flag="true"/>

### 